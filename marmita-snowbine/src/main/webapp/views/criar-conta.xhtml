<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Criação de Conta</title>
	<h:outputStylesheet library="css" name="criar-conta.css" />
 
	<p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
 
	<p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
    	<p:graphicImage name="/images/ajaxloadingbar.gif" />
	</p:dialog>
</h:head>
<h:body>
	<div id="criar-conta-dialog" align="center">
		<h:form id="form">
			<p:messages autoUpdate="true" />
			<h:panelGrid columns="4" styleClass="grid-criar-conta">
				<f:facet name="header">
	        		<p:outputLabel value="Criação de conta"/>
	        		<br />
	    		</f:facet>
	    		
				<p:outputLabel for="nome" value="Nome:" />
				<p:inputText id="nome" value="#{criarContaFormBean.cliente.nome}" required="true" requiredMessage="Nome é obrigatório">
					<f:validateLength minimum="2" maximum="50"/>
				</p:inputText>
				
				<p:outputLabel for="sobrenome" value="Sobrenome:" />
				<p:inputText id="sobrenome" value="#{criarContaFormBean.cliente.sobrenome}" required="true" requiredMessage="Sobrenome é obrigatório">
					<f:validateLength minimum="2" maximum="50"/>
				</p:inputText>
				
				<p:outputLabel for="dtNascimento" value="Data de Nascimento" />
	       		<p:calendar id="dtNascimento" value="#{criarContaFormBean.cliente.dataNascimento}" pattern="yyyy-MM-dd" mask="true" required="true" requiredMessage="Data de nascimento é obrigatória"/>
	        
				<p:outputLabel for="cpf" value="Cpf:" />
				<p:inputMask mask="999.999.999-99" id="cpf"	value="#{criarContaFormBean.cliente.cpf}" required="true" requiredMessage="Cpf é obrigatório"/>
	
				<p:outputLabel for="rg" value="Rg:" />
				<p:inputText id="rg" value="#{criarContaFormBean.cliente.rg}" required="true" requiredMessage="RG é obrigatório" maxlength="10"/>
	
				<p:outputLabel for="rua" value="Rua:"/>
				<p:inputText id="rua" value="#{criarContaFormBean.endereco.rua}" required="true" requiredMessage="Rua é obrigatório"/>
	
				<p:outputLabel for="bairro" value="Bairro:" />
				<p:inputText id="bairro" value="#{criarContaFormBean.endereco.bairro}" required = "true" requiredMessage="Bairro é obrigatório"/>
	
				<p:outputLabel for="cep" value="Cep:" />
				<p:inputMask mask="99.999-999" id="cep" value="#{criarContaFormBean.endereco.cep}" required="true" requiredMessage="Cep é obrigatório" />
	
				<p:outputLabel for="complemento" value="Complemento:" />
				<p:inputText id="complemento" value="#{criarContaFormBean.endereco.complemento}"/>
	
				<p:outputLabel for="cidades" value="Cidade:" />
				<p:selectOneMenu id="cidades" value="#{criarContaFormBean.endereco.cidade}" required="true" requiredMessage="Escolha uma cidade!">
					<f:converter converterId="generic" />
					<f:selectItem itemLabel="Selecione: " itemValue="" />
					<f:selectItems value="#{cidadeListBean.listaEntidade}" var="cidade"
						itemLabel="#{cidade.nome}" itemValue="#{cidade}" />
				</p:selectOneMenu>
				
				<p:outputLabel for="login" value="Login" />
				<p:inputText id="login" value="#{criarContaFormBean.usuario.login}" required="true" requiredMessage="Login é obrigatório"/>
	
				<p:outputLabel for="senha" value="Senha" />
				<p:password id="senha" value="#{criarContaFormBean.usuario.senha}" required="true" requiredMessage="Senha é obrigatória"/>
				
				<p:outputLabel for="imagem-perfil" value="Imagem de perfil:" />
				<p:fileUpload
				 id="imagem-perfil" fileUploadListener="#{criarContaFormBean.uploadImage}"
				 label="Escolher" uploadLabel="Enviar" cancelLabel="Cancelar"
				 allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
    			 invalidFileMessage="São permitidas somente imagens (gif, jpeg, jpg e png)"/>
				<p:column/>
					
				<p:commandButton value="Criar Conta" action="#{criarContaFormBean.criarConta}" style="width:200px;"/>
			</h:panelGrid>
		</h:form>
	</div>
</h:body>
</html>